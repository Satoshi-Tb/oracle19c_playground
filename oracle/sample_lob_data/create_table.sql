-- テーブル作成

DROP SEQUENCE SEQ_T_LOB_DETAIL;
CREATE SEQUENCE SEQ_T_LOB_DETAIL START WITH 1 INCREMENT BY 1 MINVALUE 1 MAXVALUE 9999999999 NOCYCLE NOCACHE;

DROP SEQUENCE SEQ_T_SAMPLE_LIST;
CREATE SEQUENCE SEQ_T_SAMPLE_LIST START WITH 1 INCREMENT BY 1 MINVALUE 1 MAXVALUE 9999999999 NOCYCLE NOCACHE;

DROP SEQUENCE SEQ_T_LARGE_ITEM_X;
CREATE SEQUENCE SEQ_T_LARGE_ITEM_X START WITH 1 INCREMENT BY 1 MINVALUE 1 MAXVALUE 9999999999 NOCYCLE NOCACHE;


DROP TABLE T_LOB_HEADER CASCADE CONSTRAINTS;
DROP TABLE T_LOB_DETAIL CASCADE CONSTRAINTS;
DROP TABLE T_SAMPLE1 CASCADE CONSTRAINTS;
DROP TABLE T_SAMPLE2 CASCADE CONSTRAINTS;
DROP TABLE T_SAMPLE3 CASCADE CONSTRAINTS;
DROP TABLE T_SAMPLE4 CASCADE CONSTRAINTS;
DROP TABLE T_SAMPLE_LIST CASCADE CONSTRAINTS;
DROP TABLE T_LARGE_ITEM_X CASCADE CONSTRAINTS;
DROP TABLE T_RANGE CASCADE CONSTRAINTS;
DROP TABLE T_REPEAT_ITEM CASCADE CONSTRAINTS;


CREATE TABLE T_LOB_HEADER (
  ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
  TEXT CLOB,
  TEXT_LEN NUMBER,
  FRAGMENT_COUNT NUMBER,
  CONSTRAINT PK_T_LOB_HEADER PRIMARY KEY (ID)
);
CREATE INDEX CTX1_T_LOB_HEADER ON T_LOB_HEADER(TEXT) INDEXTYPE IS CTXSYS.CONTEXT;


CREATE TABLE T_LOB_DETAIL (
  ID NUMBER DEFAULT SEQ_T_LOB_DETAIL.NEXTVAL NOT NULL,
  HEADER_ID NUMBER,
  NO NUMBER,
  FRAGMENT CLOB,
  FRAGMENT_LEN NUMBER,
  MEMO VARCHAR2(255),
  CONSTRAINT PK_T_LOB_DETAIL PRIMARY KEY (ID),
  CONSTRAINT UK1_T_LOB_DETAIL UNIQUE (HEADER_ID, NO),
  CONSTRAINT FK_T_LOB_DETAIL_HEADER_ID FOREIGN KEY (HEADER_ID)
    REFERENCES T_LOB_HEADER (ID)
);
CREATE INDEX IDX1_T_LOB_HEADER ON T_LOB_DETAIL (HEADER_ID);
CREATE INDEX IDX2_T_LOB_HEADER ON T_LOB_DETAIL (MEMO);
CREATE INDEX CTX1_T_LOB_DETAIL ON T_LOB_DETAIL(FRAGMENT) INDEXTYPE IS CTXSYS.CONTEXT;

CREATE TABLE T_SAMPLE1 (
  ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
  NO NUMBER,
  VALUE VARCHAR2(255),
  CONSTRAINT PK_T_SAMPLE1 PRIMARY KEY (ID)
);

CREATE TABLE T_SAMPLE2 (
  ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
  SAMPLE1_ID NUMBER,
  NO NUMBER,
  VALUE VARCHAR2(255),
  CONSTRAINT PK_T_SAMPLE2 PRIMARY KEY (ID),
  CONSTRAINT FK_T_SAMPLE2_SAMPLE1_ID FOREIGN KEY (SAMPLE1_ID)
    REFERENCES T_SAMPLE1 (ID)
);

CREATE TABLE T_SAMPLE3 (
  ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
  SAMPLE2_ID NUMBER,
  NO NUMBER,
  VALUE VARCHAR2(255),
  CONSTRAINT PK_T_SAMPLE3 PRIMARY KEY (ID),
  CONSTRAINT FK_T_SAMPLE3_SAMPLE2_ID FOREIGN KEY (SAMPLE2_ID)
    REFERENCES T_SAMPLE2 (ID)
);

CREATE TABLE T_SAMPLE4 (
  ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
  NO NUMBER,
  VALUE VARCHAR2(255),
  CONSTRAINT PK_T_SAMPLE4 PRIMARY KEY (ID)
);

CREATE TABLE T_SAMPLE_LIST (
  ID NUMBER DEFAULT SEQ_T_LOB_DETAIL.NEXTVAL NOT NULL,
  ITEM1 VARCHAR2(100),
  ITEM2 VARCHAR2(100),
  ITEM3 VARCHAR2(4000),
  CREATED_AT DATE,
  CREATED_BY VARCHAR2(100),
  UPDATED_AT DATE,
  UPDATED_BY VARCHAR2(100),
  CONSTRAINT PK_T_SAMPLE_LIST PRIMARY KEY (ID)
);

CREATE TABLE T_LARGE_ITEM_X (
  ID NUMBER DEFAULT SEQ_T_LARGE_ITEM_X.NEXTVAL NOT NULL,
  NUMBER_ITEM1 NUMBER,
  NUMBER_ITEM2 NUMBER,
  NUMBER_ITEM3 NUMBER,
  NUMBER_ITEM4 NUMBER,
  NUMBER_ITEM5 NUMBER,
  NUMBER_ITEM6 NUMBER,
  NUMBER_ITEM7 NUMBER,
  NUMBER_ITEM8 NUMBER,
  NUMBER_ITEM9 NUMBER,
  NUMBER_ITEM10 NUMBER,
  NUMBER_ITEM11 NUMBER,
  NUMBER_ITEM12 NUMBER,
  NUMBER_ITEM13 NUMBER,
  NUMBER_ITEM14 NUMBER,
  NUMBER_ITEM15 NUMBER,
  NUMBER_ITEM16 NUMBER,
  NUMBER_ITEM17 NUMBER,
  NUMBER_ITEM18 NUMBER,
  NUMBER_ITEM19 NUMBER,
  NUMBER_ITEM20 NUMBER,
  STRING_ITEM1 VARCHAR2(4000),
  STRING_ITEM2 VARCHAR2(4000),
  STRING_ITEM3 VARCHAR2(4000),
  STRING_ITEM4 VARCHAR2(4000),
  STRING_ITEM5 VARCHAR2(4000),
  STRING_ITEM6 VARCHAR2(4000),
  STRING_ITEM7 VARCHAR2(4000),
  STRING_ITEM8 VARCHAR2(4000),
  STRING_ITEM9 VARCHAR2(4000),
  STRING_ITEM10 VARCHAR2(4000),
  STRING_ITEM11 VARCHAR2(4000),
  STRING_ITEM12 VARCHAR2(4000),
  STRING_ITEM13 VARCHAR2(4000),
  STRING_ITEM14 VARCHAR2(4000),
  STRING_ITEM15 VARCHAR2(4000),
  STRING_ITEM16 VARCHAR2(4000),
  STRING_ITEM17 VARCHAR2(4000),
  STRING_ITEM18 VARCHAR2(4000),
  STRING_ITEM19 VARCHAR2(4000),
  STRING_ITEM20 VARCHAR2(4000),
  DATE_ITEM1 DATE,
  DATE_ITEM2 DATE,
  DATE_ITEM3 DATE,
  DATE_ITEM4 DATE,
  DATE_ITEM5 DATE,
  DATE_ITEM6 DATE,
  DATE_ITEM7 DATE,
  DATE_ITEM8 DATE,
  DATE_ITEM9 DATE,
  DATE_ITEM10 DATE,
  DATE_ITEM11 DATE,
  DATE_ITEM12 DATE,
  DATE_ITEM13 DATE,
  DATE_ITEM14 DATE,
  DATE_ITEM15 DATE,
  DATE_ITEM16 DATE,
  DATE_ITEM17 DATE,
  DATE_ITEM18 DATE,
  DATE_ITEM19 DATE,
  DATE_ITEM20 DATE,
  CLOB_ITEM1 CLOB,
  CLOB_ITEM2 CLOB,
  CLOB_ITEM3 CLOB,
  CLOB_ITEM4 CLOB,
  CLOB_ITEM5 CLOB,
  CLOB_ITEM6 CLOB,
  CLOB_ITEM7 CLOB,
  CLOB_ITEM8 CLOB,
  CLOB_ITEM9 CLOB,
  CLOB_ITEM10 CLOB,
  CLOB_ITEM11 CLOB,
  CLOB_ITEM12 CLOB,
  CLOB_ITEM13 CLOB,
  CLOB_ITEM14 CLOB,
  CLOB_ITEM15 CLOB,
  CLOB_ITEM16 CLOB,
  CLOB_ITEM17 CLOB,
  CLOB_ITEM18 CLOB,
  CLOB_ITEM19 CLOB,
  CLOB_ITEM20 CLOB,
  CREATED_AT DATE,
  CREATED_BY VARCHAR2(100),
  UPDATED_AT DATE,
  UPDATED_BY VARCHAR2(100),
  CONSTRAINT PK_T_LARGE_ITEM_X PRIMARY KEY (ID)
);


CREATE TABLE T_RANGE (
  ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
  DOCUMENT_ID NUMBER NOT NULL,
  START_XPATH VARCHAR2(4000) NOT NULL,
  START_OFFSET NUMBER NOT NULL,
  END_XPATH VARCHAR2(4000) NOT NULL,
  END_OFFSET NUMBER NOT NULL,
  TEXT VARCHAR2(255),
  CONSTRAINT PK_T_RANGE PRIMARY KEY (ID)
);

CREATE TABLE T_REPEAT_ITEM (
  ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
  STRING_ITEM1 VARCHAR2(4000),
  STRING_ITEM2 VARCHAR2(4000),
  STRING_ITEM3 VARCHAR2(4000),
  STRING_ITEM4 VARCHAR2(4000),
  STRING_ITEM5 VARCHAR2(4000),
  STRING_ITEM6 VARCHAR2(4000),
  STRING_ITEM7 VARCHAR2(4000),
  STRING_ITEM8 VARCHAR2(4000),
  STRING_ITEM9 VARCHAR2(4000),
  STRING_ITEM10 VARCHAR2(4000),
  STRING_ITEM11 VARCHAR2(4000),
  STRING_ITEM12 VARCHAR2(4000),
  STRING_ITEM13 VARCHAR2(4000),
  STRING_ITEM14 VARCHAR2(4000),
  STRING_ITEM15 VARCHAR2(4000),
  STRING_ITEM16 VARCHAR2(4000),
  STRING_ITEM17 VARCHAR2(4000),
  STRING_ITEM18 VARCHAR2(4000),
  STRING_ITEM19 VARCHAR2(4000),
  STRING_ITEM20 VARCHAR2(4000),
  CONSTRAINT PK_T_REPEAT_ITEM PRIMARY KEY (ID)
);

EXIT;